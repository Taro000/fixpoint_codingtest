# フィックスポイント　コーディングテスト

python3.7.4

testlog.log
監視ログのファイルです。全ての設問に対応するためにいくつかログを追加しました。

### 設問１

question1.py

#### コード実行方法

```python
python question1.py testlog.log
```

#### テストログ　実行結果

```
10.20.30.1/16 1.0
10.20.30.1/16 1.0
10.20.30.1/16 1.0
10.20.30.1/16 2.0
10.20.30.2/16 2.0
192.168.1.2/24 1.0
192.168.1.2/24 2.0
192.168.1.2/24 1.0
192.168.1.1/24 1.0
192.168.1.2/24 -
```

出力：故障期間はマイクロ秒を含むトータルの秒数です。  
設問にない仕様：最後尾のログは次に ping の応答が返るまでの故障期間を算出できないので、文字列'-'で置き換えています。

### 設問２

question2.py

#### コード実行方法

```python
python question2.py testlog.log N
```

#### テストログ　実行結果

N=3 で実行

```
10.20.30.1/16 0:00:01
10.20.30.1/16 -
192.168.1.2/24 0:00:02
```

N は連続回数のパラメータ

設問にない仕様：サーバーごとに連続回数 N の判定を行っています。そのため出力はサーバーごとにソートされています。

### 設問３

設問２のコードを拡張

question3.py

#### コード実行方法

```python
python question3.py testlog.log N m t
```

#### テストログ　実行結果

N=3,m=3,t=1 で実行

```
10.20.30.1/16 0:00:01
10.20.30.1/16 -
10.20.30.2/16 1.5
10.20.30.2/16 3.0
10.20.30.2/16 2.6666666666666665
10.20.30.2/16 3.0
192.168.1.1/24 9.333333333333334
192.168.1.2/24 0:00:02
192.168.1.2/24 5.0
```

N、m、t は設問の各パラメータ

出力：サーバーアドレスと過負荷状態となっている期間(ミリ秒)を出力します。  
設問にない仕様：過去 m 回の内にタイムアウト('-')が混ざっている場合はそれ以外の残りのログで計算します。(例：m=3 で、 1/3 がタイムアウトの場合は残り 2 つで平均応答時間を算出) なお、ping がタイムアウト('-')の場合は直近 m 回の平均応答時間は計算されません。(何も出力しません)

### 設問４

設問２のコードを拡張

question4.py

#### コード実行方法

```python
python question4.py testlog.log N
```

N は連続回数のパラメータ

#### テストログ　実行結果

```
10.20.30.1/16 0:00:01
10.20.30.1/16 0:00:02
10.20.30.2/16 0:00:02
192.168.1.2/24 0:00:01
192.168.1.1/24 0:00:01
```
